specVersion: 0.0.2
description: Tokemak Subgraph
repository: https://github.com/Tokemak/tokemak-subgraph
schema:
  file: schema.graphql
dataSources:
  - kind: ethereum/contract
    name: DefiRound
    network: mainnet
    source:
      address: "0xc803737D3E12CC4034Dde0B2457684322100Ac38"
      abi: DefiRound
      startBlock: 12912480
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - Contract
        - Token
        - Oracle
        - Gensis
        - User
        - Balance
        - WhiteList
        - SupportedTokens
        - FinalizedAsset
      abis:
        - name: DefiRound
          file: DefiRound/build/DefiRound/abis/DefiRound.json
        - name: ERC20
          file: DefiRound/build/ERC20/abis/ERC20.json
      eventHandlers:
        - event: Deposited(address,(address,uint256))
          handler: handleDeposit
        - event: Withdrawn(address,(address,uint256),bool)
          handler: handleWithdraw
        - event: SupportedTokensAdded((address,address,address,uint256)[])
          handler: handleSupportedTokens
        - event: GenesisTransfer(address,uint256)
          handler: handleGenesisTransfer
        - event: AssetsFinalized(address,address,uint256)
          handler: handleFinalizedAsset
        - event: WhitelistConfigured((bool,bytes32))
          handler: handleWhitelist
        - event: TreasuryTransfer((address,uint256)[])
          handler: handleTreasuryTransfer
        - event: RatesPublished((address,uint256,uint256)[])
          handler: handleRates
      file: DefiRound/DefiRound.wasm
