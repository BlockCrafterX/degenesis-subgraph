
    specVersion: 0.0.2
    description: Tokemak Subgraph
    repository: https://github.com/Tokemak/tokemak-subgraph
    schema:
      file: ./schema.graphql
    dataSources:
      # ---------------------------------- DefiRound ----------------------------------
      - kind: ethereum/contract
        name: DefiRound
        network: kovan
        source:
          address: "0x5b9089C347e79160105E9447941df90306a24B82"
          abi: DefiRound
          startBlock: 26253074
        mapping:
          kind: ethereum/events
          apiVersion: 0.0.4
          language: wasm/assemblyscript
          entities:
            - Contract
            - Token
            - Oracle
            - Gensis
            - User
            - Balance
            - WhiteList
            - SupportedTokens
            - FinalizedAsset
          abis:
            - name: DefiRound
              file: ./build/DefiRound/abis/DefiRound.json
            - name: ERC20
              file: ./build/ERC20/abis/ERC20.json
          eventHandlers:
            - event: Deposited(address,(address,uint256))
              handler: handleDeposit
            - event: Withdrawn(address,(address,uint256),bool)
              handler: handleWithdraw
            - event: SupportedTokensAdded((address,address,address,uint256)[])
              handler: handleSupportedTokens
            - event: GenesisTransfer(address,uint256)
              handler: handleGenesisTransfer
            - event: AssetsFinalized(address,address,uint256)
              handler: handleFinalizedAsset
            - event: WhitelistConfigured((bool,bytes32))
              handler: handleWhitelist
            - event: TreasuryTransfer((address,uint256)[]) 
              handler: handleTreasuryTransfer
            - event: RatesPublished((address,uint256,uint256)[])
              handler: handleRates
          file: ./src/defiMapping.ts
      # ---------------------------------- CoreEvent ----------------------------------
      